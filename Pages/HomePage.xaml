<?xml version="1.0" encoding="utf-8"?>
<!--
================================================================
WinVault - Home Page XAML Definition
Copyright (c) 2024 WinVault Team. All rights reserved.
Licensed under the GPL-3.0 License.
Author: WinVault Development Team
Created: 2024-12-20
Last Modified: 2024-12-20
Version: 2.0.0
Purpose: Main dashboard page with system overview, quick actions,
         and modern card-based layout design
================================================================

Page Features / 页面特性:
• Real-time system status monitoring / 实时系统状态监控
• Quick action cards with hover animations / 快速操作卡片，带悬停动画
• Responsive grid layout for different screen sizes / 响应式网格布局适配不同屏幕
• Modern card design with Fluent Design principles / 现代卡片设计，遵循Fluent Design原则
• Data binding with MVVM pattern / 使用MVVM模式的数据绑定

Layout Structure / 布局结构:
• ScrollViewer for content overflow handling / ScrollViewer处理内容溢出
• Grid sections for organized content areas / Grid分区用于组织内容区域
• Card-based UI with consistent spacing / 基于卡片的UI，间距一致
• Adaptive layout for mobile and desktop / 自适应布局支持移动端和桌面端
-->
<Page
    x:Class="WinVault.Pages.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WinVault.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewmodels="using:WinVault.ViewModels"
    mc:Ignorable="d"
    Loaded="Page_Loaded">

    <!--
    页面资源定义 / Page Resource Definitions
    包含数据模板、样式和转换器等可重用资源
    Contains data templates, styles, and converters for reusable resources
    -->
    <Page.Resources>
        <!--
        功能卡片数据模板 / Function Card Data Template
        定义功能卡片的视觉外观和交互行为
        Defines visual appearance and interaction behavior of function cards

        设计特性 / Design Features:
        • 200x160像素的标准卡片尺寸 / Standard card size of 200x160 pixels
        • 圆角边框和阴影效果 / Rounded corners and shadow effects
        • 主题色彩的头部区域 / Themed color header area
        • 图标和文本的组合布局 / Combined layout of icons and text
        • 悬停动画和视觉反馈 / Hover animations and visual feedback
        -->
        <DataTemplate x:Key="FunctionCardTemplate" x:DataType="viewmodels:FunctionCard">
            <Grid Width="200" Height="160" Margin="8" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" 
                  BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}" BorderThickness="1" CornerRadius="8"
                  PointerEntered="Card_PointerEntered" PointerExited="Card_PointerExited">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid Padding="16" Background="{ThemeResource AccentFillColorDefaultBrush}" CornerRadius="8,8,0,0">
                    <StackPanel Orientation="Horizontal">
                        <FontIcon Glyph="{x:Bind Icon}" Foreground="White" FontSize="24" Margin="0,0,12,0" />
                        <TextBlock Text="{x:Bind Title}" Foreground="White" FontWeight="SemiBold" VerticalAlignment="Center" />
                    </StackPanel>
                </Grid>
                <StackPanel Grid.Row="1" Padding="16" Spacing="8">
                    <TextBlock Text="{x:Bind Description}" TextWrapping="Wrap" Style="{StaticResource BodyTextBlockStyle}"/>
                </StackPanel>
            </Grid>
        </DataTemplate>
    </Page.Resources>

    <Grid>
        <ScrollViewer Padding="24" VerticalScrollMode="Auto" VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="24">
                <!-- 动态标题栏 -->
                <Border Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="12"
                        Padding="32,24">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- 应用图标 -->
                        <Border Grid.Column="0" Width="64" Height="64" CornerRadius="16"
                                Background="{ThemeResource AccentFillColorDefaultBrush}"
                                Margin="0,0,24,0">
                            <FontIcon Glyph="&#xE7C3;" FontSize="32" Foreground="White"/>
                        </Border>

                        <!-- 标题信息 -->
                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="8">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="WinVault" FontSize="32" FontWeight="Bold" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                                <TextBlock Text="/" FontSize="32" FontWeight="Bold" Opacity="0.5"/>
                                <TextBlock x:Name="SystemVersionText" Text="Windows" FontSize="32" FontWeight="Bold" Opacity="0.8"/>
                            </StackPanel>
                            <TextBlock Text="现代化Windows系统管理平台"
                                       FontSize="16"
                                       Opacity="0.7"
                                       FontStyle="Italic"/>
                        </StackPanel>

                        <!-- 系统状态指示器 -->
                        <StackPanel Grid.Column="2" VerticalAlignment="Center" Spacing="8">
                            <Border Background="{ThemeResource SystemFillColorSuccessBrush}"
                                    CornerRadius="12"
                                    Padding="12,6">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon Glyph="&#xE73E;" FontSize="14" Foreground="White"/>
                                    <TextBlock Text="系统正常" FontSize="12" Foreground="White" FontWeight="SemiBold"/>
                                </StackPanel>
                            </Border>
                             <TextBlock x:Name="CurrentTimeText"
                                       Text=""
                                       FontSize="12"
                                       Opacity="0.6"
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- 系统状态概览 -->
                <StackPanel Spacing="16">
                    <TextBlock Text="系统状态" Style="{StaticResource SubtitleTextBlockStyle}" FontWeight="SemiBold"/>
                    <ItemsRepeater ItemsSource="{x:Bind ViewModel.SystemStatusCards}">
                        <ItemsRepeater.Layout>
                            <UniformGridLayout MinItemWidth="200" MinItemHeight="120" MinColumnSpacing="16" MinRowSpacing="16" MaximumRowsOrColumns="4"/>
                        </ItemsRepeater.Layout>
                        <ItemsRepeater.ItemTemplate>
                            <DataTemplate x:DataType="viewmodels:SystemStatusCard">
                                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                        BorderThickness="1"
                                        CornerRadius="8"
                                        Padding="16">
                                    <StackPanel Spacing="8">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <FontIcon Grid.Column="0" Glyph="{x:Bind Icon}" FontSize="20" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                                            <TextBlock Grid.Column="1" Text="{x:Bind Title, Mode=OneWay}" FontWeight="SemiBold" Margin="8,0,0,0"/>
                                        </Grid>
                                        <TextBlock Text="{x:Bind Value, Mode=OneWay}" FontSize="18" FontWeight="Bold"/>
                                        <TextBlock Text="{x:Bind Status, Mode=OneWay}" FontSize="12" Opacity="0.7"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsRepeater.ItemTemplate>
                    </ItemsRepeater>
                </StackPanel>

                <!-- 快速操作区域 -->
                <StackPanel Spacing="16">
                    <TextBlock Text="快速操作" Style="{StaticResource SubtitleTextBlockStyle}" FontWeight="SemiBold"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- 系统优化快速入口 -->
                        <Button Grid.Column="0" Margin="0,0,8,0" Padding="16" HorizontalAlignment="Stretch"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                Click="QuickOptimize_Click">
                            <StackPanel Spacing="8">
                                <FontIcon Glyph="&#xE713;" FontSize="24" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                                <TextBlock Text="系统优化" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- 磁盘清理快速入口 -->
                        <Button Grid.Column="1" Margin="4,0" Padding="16" HorizontalAlignment="Stretch"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                Click="QuickDiskCleanup_Click">
                            <StackPanel Spacing="8">
                                <FontIcon Glyph="&#xE74E;" FontSize="24" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                                <TextBlock Text="磁盘清理" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- 服务管理快速入口 -->
                        <Button Grid.Column="2" Margin="4,0" Padding="16" HorizontalAlignment="Stretch"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                Click="QuickServices_Click">
                            <StackPanel Spacing="8">
                                <FontIcon Glyph="&#xE8B7;" FontSize="24" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                                <TextBlock Text="服务管理" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>

                        <!-- 任务管理器快速入口 -->
                        <Button Grid.Column="3" Margin="8,0,0,0" Padding="16" HorizontalAlignment="Stretch"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                Click="QuickTaskManager_Click">
                            <StackPanel Spacing="8">
                                <FontIcon Glyph="&#xE950;" FontSize="24" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                                <TextBlock Text="任务管理器" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </Grid>
                </StackPanel>

                <!-- 常用功能 -->
                <StackPanel Spacing="16" Margin="0,16,0,0">
                    <TextBlock Text="常用功能" Style="{StaticResource SubtitleTextBlockStyle}" FontWeight="SemiBold"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- 硬件信息 -->
                        <Button Grid.Column="0" Margin="0,0,8,0" Padding="20" Height="140" HorizontalAlignment="Stretch"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="8"
                                Click="FunctionCard_Click"
                                Tag="hardware">
                            <StackPanel Spacing="12" HorizontalAlignment="Center">
                                <Border Width="48" Height="48" CornerRadius="24"
                                        Background="{ThemeResource AccentFillColorDefaultBrush}">
                                    <FontIcon Glyph="&#xE7F4;" FontSize="24" Foreground="White"/>
                                </Border>
                                <StackPanel Spacing="4" HorizontalAlignment="Center">
                                    <TextBlock Text="硬件信息" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="查看系统硬件详情" FontSize="12" Opacity="0.7" HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                </StackPanel>
                            </StackPanel>
                        </Button>

                        <!-- 服务管理 -->
                        <Button Grid.Column="1" Margin="4,0" Padding="20" Height="140" HorizontalAlignment="Stretch"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="8"
                                Click="FunctionCard_Click"
                                Tag="services">
                            <StackPanel Spacing="12" HorizontalAlignment="Center">
                                <Border Width="48" Height="48" CornerRadius="24"
                                        Background="{ThemeResource AccentFillColorDefaultBrush}">
                                    <FontIcon Glyph="&#xE8B7;" FontSize="24" Foreground="White"/>
                                </Border>
                                <StackPanel Spacing="4" HorizontalAlignment="Center">
                                    <TextBlock Text="服务管理" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="管理系统服务" FontSize="12" Opacity="0.7" HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                </StackPanel>
                            </StackPanel>
                        </Button>

                        <!-- 命令查询 -->
                        <Button Grid.Column="2" Margin="4,0" Padding="20" Height="140" HorizontalAlignment="Stretch"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="8"
                                Click="FunctionCard_Click"
                                Tag="commandquery">
                            <StackPanel Spacing="12" HorizontalAlignment="Center">
                                <Border Width="48" Height="48" CornerRadius="24"
                                        Background="{ThemeResource AccentFillColorDefaultBrush}">
                                    <FontIcon Glyph="&#xE756;" FontSize="24" Foreground="White"/>
                                </Border>
                                <StackPanel Spacing="4" HorizontalAlignment="Center">
                                    <TextBlock Text="命令查询" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="查找系统命令" FontSize="12" Opacity="0.7" HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                </StackPanel>
                            </StackPanel>
                        </Button>

                        <!-- 工具箱 -->
                        <Button Grid.Column="3" Margin="8,0,0,0" Padding="20" Height="140" HorizontalAlignment="Stretch"
                                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="8"
                                Click="FunctionCard_Click"
                                Tag="exetools">
                            <StackPanel Spacing="12" HorizontalAlignment="Center">
                                <Border Width="48" Height="48" CornerRadius="24"
                                        Background="{ThemeResource AccentFillColorDefaultBrush}">
                                    <FontIcon Glyph="&#xE2AC;" FontSize="24" Foreground="White"/>
                                </Border>
                                <StackPanel Spacing="4" HorizontalAlignment="Center">
                                    <TextBlock Text="工具箱" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                    <TextBlock Text="实用工具集合" FontSize="12" Opacity="0.7" HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                </StackPanel>
                            </StackPanel>
                        </Button>
                    </Grid>
                </StackPanel>




                <TextBlock Text="{x:Bind ViewModel.Version, Mode=OneTime}" Style="{StaticResource CaptionTextBlockStyle}" HorizontalAlignment="Right" Margin="0,24,0,0" Opacity="0.6" />
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page> 