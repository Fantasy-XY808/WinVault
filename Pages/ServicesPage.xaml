<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="WinVault.Pages.ServicesPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:WinVault.Pages"
    xmlns:controls="using:WinVault.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 页面标题栏 -->
        <controls:PageHeaderControl Grid.Row="0"
            Title="服务管理"
            Description="查看、启动、停止和管理Windows系统服务。系统服务是Windows后台运行的程序，提供各种系统功能。"
            Icon="&#xE8B7;"
            Status="服务正常"
            StatusType="Success"
            Margin="0,0,0,20"/>

        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- 功能说明卡片 -->
            <Border Grid.Row="0" 
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Padding="16"
                    Margin="0,0,0,16">
                <StackPanel Spacing="12">
                    <TextBlock Text="服务管理功能说明" 
                               FontWeight="SemiBold" 
                               FontSize="16"/>
                    <TextBlock Text="• 查看服务状态：了解哪些服务正在运行，哪些已停止" 
                               TextWrapping="Wrap" 
                               Opacity="0.8"/>
                    <TextBlock Text="• 启动/停止服务：手动控制服务的运行状态" 
                               TextWrapping="Wrap" 
                               Opacity="0.8"/>
                    <TextBlock Text="• 设置启动类型：自动（开机启动）、手动（需要时启动）、禁用（不启动）" 
                               TextWrapping="Wrap" 
                               Opacity="0.8"/>
                    <TextBlock Text="• 查看服务详情：了解服务的功能、依赖关系和配置信息" 
                               TextWrapping="Wrap" 
                               Opacity="0.8"/>
                </StackPanel>
            </Border>

            <!-- 搜索和筛选控件 -->
            <Grid Grid.Row="1" Margin="0,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <AutoSuggestBox 
                    x:Name="SearchBox" 
                    PlaceholderText="搜索服务..." 
                    QueryIcon="Find"
                    Grid.Column="0" 
                    Margin="0,0,10,0"/>
                
                <ComboBox 
                    x:Name="FilterComboBox" 
                    Grid.Column="1" 
                    PlaceholderText="筛选状态"
                    SelectedIndex="0">
                    <ComboBoxItem Content="全部"/>
                    <ComboBoxItem Content="运行中"/>
                    <ComboBoxItem Content="已停止"/>
                    <ComboBoxItem Content="自动"/>
                    <ComboBoxItem Content="手动"/>
                    <ComboBoxItem Content="禁用"/>
                </ComboBox>
            </Grid>
            
            <!-- 服务列表 -->
            <ListView 
                x:Name="ServicesListView"
                Grid.Row="2"
                SelectionMode="Single">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="{Binding DisplayName}" 
                                           FontWeight="SemiBold"/>
                                <TextBlock Text="{Binding ServiceName}" 
                                           Opacity="0.7" 
                                           FontSize="12"/>
                                <TextBlock Text="{Binding Description}" 
                                           TextWrapping="Wrap" 
                                           Opacity="0.8"
                                           MaxLines="2"
                                           TextTrimming="CharacterEllipsis"/>
                            </StackPanel>
                            
                            <TextBlock Grid.Column="1" 
                                       Text="{Binding Status}" 
                                       Margin="10,0"
                                       VerticalAlignment="Center"/>
                            
                            <Button Grid.Column="2" 
                                    Content="操作"
                                    VerticalAlignment="Center"/>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
                
                <!-- 占位数据 -->
                <TextBlock Text="正在加载服务列表..."
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Opacity="0.7"/>
            </ListView>
        </Grid>
    </Grid>
</Page> 